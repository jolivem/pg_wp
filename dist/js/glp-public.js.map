{
  "version": 3,
  "sources": ["../../public/js/glp-public.js"],
  "sourcesContent": ["(function ($) {\r\n\r\n\r\n    $(function () {\r\n        \r\n        var flag = true;\r\n        var tapped = false;\r\n        var touchStartCoords;\r\n\r\n\r\n        // Update the photo counter on the edit-photo page\r\n        function updatePhotoCounter() {\r\n\r\n            let elem = document.getElementById(\"images_id\");\r\n            if (elem) {\r\n\r\n                // set the photo counter\r\n                let images = elem.value.split(',');\r\n                //console.log(\"edit-photo-option images\", images);\r\n                if (images.length > 1) {\r\n                    const postid = document.getElementById(\"post_id\").value;\r\n                    //console.log(\"edit-photo-option postid\", postid);\r\n                    const isNumber = (element) => element == postid;\r\n                    const index = images.findIndex(isNumber);\r\n                    if (index != -1) {\r\n                        let cpt = index+1;\r\n                        document.getElementById('cpt-photo').innerHTML = cpt + \"/\" + images.length;\r\n\r\n                        if (index == 0){\r\n                            $('.fa-angle-double-left').css('color', 'darkgray');\r\n                        }\r\n                        if (index == images.length-1){\r\n                            $('.fa-angle-double-right').css('color', 'darkgray');\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        // call the function when ready\r\n        updatePhotoCounter();\r\n\r\n        $(document).on('touchstart', function (e){\r\n            touchStartCoords = e.originalEvent.touches[0].clientY;\r\n         });\r\n        $(document).on(\"touchend\" , \".lg-image\",function(e){\r\n            var touchEndCoords = e.originalEvent.changedTouches[0].clientY;\r\n            if(touchStartCoords == touchEndCoords){\r\n                if(!tapped){\r\n                    tapped=setTimeout(function(){\r\n                        if(flag){\r\n                            $(document).find(\".lg-icon,.lg-sub-html,.lg-toolbar\").fadeOut(\"fast\");\r\n                            flag = false;\r\n                        }\r\n                        else{\r\n                            $(document).find(\".lg-icon,.lg-sub-html,.lg-toolbar\").fadeOut().toggle(\"fast\");\r\n                            flag = true;\r\n                        }\r\n                        tapped = null;\r\n                        \r\n                    },200);  \r\n                }\r\n                else{\r\n                    clearTimeout(tapped); \r\n                    tapped = null;\r\n                }                    \r\n                e.preventDefault();\r\n\r\n            }\r\n        }); \r\n\r\n        // from the Edit Gallery page\r\n        $(document).find('#gallery_help').on('change', function(event) {\r\n            let hide=false;\r\n            if (event.target.checked) {\r\n                //console.log('Checkbox is checked');\r\n                hide = true;\r\n            }\r\n\r\n            let admin_url = document.getElementById('pg_admin_ajax_url').value;\r\n            let nonce = document.getElementById('pg_nonce').value;\r\n\r\n            const formData = new FormData();\r\n            formData.append('action', 'hide_gallery_help');\r\n            formData.append('nonce', nonce);\r\n            formData.append('hide', hide);\r\n\r\n            jQuery.ajax({\r\n                method: 'POST',\r\n                url: admin_url,\r\n                data: formData,\r\n                contentType: false,\r\n                processData: false,\r\n                success: function(){\r\n                    console.log(\"hide_gallery_help success\");\r\n                }\r\n            });       \r\n        });\r\n        \r\n        // from the My Galleries page\r\n        $(document).find('#galleries_help').on('change', function(event) {\r\n            let hide=false;\r\n            if (event.target.checked) {\r\n                //console.log('Checkbox is checked');\r\n                hide = true;\r\n            }\r\n\r\n            let admin_url = document.getElementById('pg_admin_ajax_url').value;\r\n            let nonce = document.getElementById('pg_nonce').value;\r\n\r\n            const formData = new FormData();\r\n            formData.append('action', 'hide_galleries_help');\r\n            formData.append('nonce', nonce);\r\n            formData.append('hide', hide);\r\n\r\n            jQuery.ajax({\r\n                method: 'POST',\r\n                url: admin_url,\r\n                data: formData,\r\n                contentType: false,\r\n                processData: false,\r\n                success: function(){\r\n                    console.log(\"hide_galleries_help success\");\r\n                }\r\n            });       \r\n        });\r\n        \r\n        $(document).find('#user-galleries-create').on('click', function(e){\r\n            //console.log(\"user-galleries-create click\", e);\r\n            let edit_gallery_url = document.getElementById('pg_edit_gallery_url').value;\r\n            edit_gallery_url += \"?gid=-1\";\r\n            window.location = edit_gallery_url;\r\n        });\r\n\r\n\r\n        $(document).find('.admin-photo-option').on('click', function(e){\r\n            //console.log(\"admin-photo-option click\", e);\r\n            e.preventDefault();\r\n            const postid = e.target.dataset.postid;\r\n            //console.log(\"admin-photo-option thumbs-up postid=\", postid)\r\n            let nonce = document.getElementById('pg_nonce')?.value;\r\n            let admin_url = document.getElementById('pg_admin_ajax_url')?.value;\r\n\r\n            // get the address selected \r\n            let name = \"address\" + postid;\r\n            let address = document.querySelector('input[name=\"'+name+'\"]:checked').value;\r\n    \r\n            const formData = new FormData();\r\n            formData.append('nonce', nonce);\r\n            formData.append('address', address);\r\n            formData.append('pid', postid);\r\n            if (e.target.classList.contains(\"fa-thumbs-up\")) {\r\n    \r\n                formData.append('action', 'admin_valid_photo');\r\n\r\n                jQuery.ajax({\r\n                    method: 'POST',\r\n                    url: admin_url,\r\n                    data: formData,\r\n                    contentType: false,\r\n                    processData: false,\r\n                    success: function(response){\r\n                        //console.log(\"valid success\");\r\n                        // remove the photo from list with animation\r\n                        let ancestor = e.target.parentNode.parentNode;\r\n                        ancestor.style.animationDuration = '.35s';\r\n                        ancestor.style.animationName = 'slideOutRight';\r\n                    \r\n                        setTimeout(() => {\r\n                            ancestor.remove(); // Remove the corresponding list item after animation\r\n                        }, 300); // Duration of the animation    \r\n        \r\n                        // display a toast\r\n                        var toastElList = [].slice.call(document.querySelectorAll('.toast'))\r\n                        toastElList.map(function(toastEl) {\r\n                            return new bootstrap.Toast(toastEl)\r\n                        })\r\n                    }\r\n                    // TODO handle error\r\n                });                          \r\n            }\r\n            if (e.target.classList.contains(\"fa-thumbs-down\")) {\r\n        \r\n                formData.append('action', 'admin_reject_photo');\r\n    \r\n                jQuery.ajax({\r\n                    method: 'POST',\r\n                    url: admin_url,\r\n                    data: formData,\r\n                    contentType: false,\r\n                    processData: false,\r\n                    success: function(response){\r\n                        //console.log(\"delete success\");\r\n                        // remove the photo from list with animation\r\n                        let ancestor = e.target.parentNode.parentNode;\r\n                        ancestor.style.animationDuration = '.35s';\r\n                        ancestor.style.animationName = 'slideOutLeft';\r\n                    \r\n                        setTimeout(() => {\r\n                            ancestor.remove(); // Remove the corresponding list item after animation\r\n                        }, 300); // Duration of the animation    \r\n        \r\n                        // display a toast\r\n                        var toastElList = [].slice.call(document.querySelectorAll('.toast'))\r\n                        toastElList.map(function(toastEl) {\r\n                            return new bootstrap.Toast(toastEl)\r\n                        })\r\n        \r\n                    }\r\n                    // TODO handle error\r\n                });                         \r\n            }\r\n        });\r\n\r\n        // click ti valid or not the user web site\r\n        $(document).find('.admin-url-option').on('click', function(e){\r\n            //console.log(\"admin-url-option click\", e);\r\n            e.preventDefault();\r\n            const userid = e.target.dataset.userid;\r\n            let nonce = document.getElementById('pg_nonce').value;\r\n            let admin_url = document.getElementById('pg_admin_ajax_url').value;\r\n    \r\n            const formData = new FormData();\r\n            formData.append('nonce', nonce);\r\n            formData.append('uid', userid);\r\n\r\n            if (e.target.classList.contains(\"fa-thumbs-up\")) {\r\n    \r\n                formData.append('action', 'admin_valid_url');\r\n\r\n                jQuery.ajax({\r\n                    method: 'POST',\r\n                    url: admin_url,\r\n                    data: formData,\r\n                    contentType: false,\r\n                    processData: false,\r\n                    success: function(response){\r\n                        //console.log(\"valid success\");\r\n\r\n                        // remove the photo from list with animation\r\n                        let ancestor = e.target.parentNode.parentNode;\r\n                        //console.log(\"valid success ancestor\", ancestor);\r\n                        ancestor.style.animationDuration = '.35s';\r\n                        ancestor.style.animationName = 'slideOutRight';\r\n                    \r\n                        setTimeout(() => {\r\n                            ancestor.remove(); // Remove the corresponding list item after animation\r\n                        }, 300); // Duration of the animation    \r\n        \r\n                        // display a toast\r\n                        var toastElList = [].slice.call(document.querySelectorAll('.toast'))\r\n                        toastElList.map(function(toastEl) {\r\n                            return new bootstrap.Toast(toastEl)\r\n                        })\r\n        \r\n                    }\r\n                    // TODO handle error\r\n                });                          \r\n            }\r\n            if (e.target.classList.contains(\"fa-thumbs-down\")) {\r\n\r\n                formData.append('action', 'admin_reject_url');\r\n\r\n                jQuery.ajax({\r\n                    method: 'POST',\r\n                    url: admin_url,\r\n                    data: formData,\r\n                    contentType: false,\r\n                    processData: false,\r\n                    success: function(response){\r\n                        //console.log(\"delete success\");\r\n\r\n                        // remove the photo from list with animation\r\n                        let ancestor = e.target.parentNode.parentNode;\r\n                        //console.log(\"delete success ancestor\", ancestor);\r\n                        ancestor.style.animationDuration = '.35s';\r\n                        ancestor.style.animationName = 'slideOutLeft';\r\n                    \r\n                        setTimeout(() => {\r\n                            ancestor.remove(); // Remove the corresponding list item after animation\r\n                        }, 300); // Duration of the animation    \r\n        \r\n                        // display a toast\r\n                        var toastElList = [].slice.call(document.querySelectorAll('.toast'))\r\n                        toastElList.map(function(toastEl) {\r\n                            return new bootstrap.Toast(toastEl)\r\n                        })\r\n        \r\n                    }\r\n                    // TODO handle error\r\n                });                         \r\n            }\r\n        });\r\n\r\n        // Process when user click on step-forward or step-backward\r\n        // and when user click on angle-double-right or angle-double-left\r\n        $(document).find('.edit-photo-option').on('click', function(e){\r\n            //console.log(\"edit-photo-option click\", e);\r\n            e.preventDefault();\r\n            let images_id = document.getElementById(\"images_id\").value;\r\n            let images = images_id.split(',');\r\n            //console.log(\"edit-photo-option images\", images);\r\n            if (images.length > 1) {\r\n                const postid = e.target.dataset.postid;\r\n                // console.log(\"edit-photo-option postid\", postid);\r\n                const isNumber = (element) => element == postid;\r\n                const index = images.findIndex(isNumber);\r\n                if (index != -1) {\r\n                    // console.log(\"edit-photo-option index\", index);\r\n\r\n                    if (e.target.classList.contains(\"fa-angle-double-right\")) {\r\n                        // find the following image\r\n                        if (index < images.length -1) {\r\n                            let next_id = images[index + 1];\r\n                            // console.log(\"edit-photo-option next_id\", next_id);\r\n                            let edit_photo_url = document.getElementById('pg_edit_photo_url').value;\r\n                            edit_photo_url += \"?pid=\";\r\n                            edit_photo_url += next_id;\r\n                            const gallery_id = document.getElementById('gallery-id').value;\r\n                            edit_photo_url += \"&gid=\";\r\n                            edit_photo_url += gallery_id;\r\n                            // console.log(\"edit-photo-option edit_photo_url\", edit_photo_url);\r\n                            window.location = edit_photo_url;\r\n                        }\r\n                    }\r\n                    else if (e.target.classList.contains(\"fa-angle-double-left\")) {\r\n                        // find the previous image\r\n                        if (index > 0) {\r\n                            let previous_id = images[index - 1];\r\n                            // console.log(\"edit-photo-option previous_id\", previous_id);\r\n                            let edit_photo_url = document.getElementById('pg_edit_photo_url').value;\r\n                            edit_photo_url += \"?pid=\";\r\n                            edit_photo_url += previous_id;\r\n                            const gallery_id = document.getElementById('gallery-id').value;\r\n                            edit_photo_url += \"&gid=\";\r\n                            edit_photo_url += gallery_id;\r\n                            // console.log(\"edit-photo-option edit_photo_url\", edit_photo_url);\r\n                            window.location = edit_photo_url;\r\n                        }\r\n                    }\r\n                    let cpt = index+1;\r\n                    document.getElementById('cpt-photo').innerHTML = cpt + \"/\" + images.length;\r\n                }\r\n            }\r\n            // console.log(\"edit-photo-option OUT\");\r\n\r\n        });  \r\n\r\n        $(document).find('#btn-add-single-photo').on('click', function(e){\r\n            // console.log(\"btn-add-single-photo click\", e);\r\n            e.preventDefault();\r\n            const galid = e.target.dataset.galid;\r\n            let download_single_url = document.getElementById('pg_download_single_url').value;\r\n            download_single_url += \"?gid=\";\r\n            download_single_url += galid;\r\n            window.location = download_single_url;\r\n        });  \r\n\r\n        $(document).find('.user-photo-option').on('click', function(e){\r\n            // console.log(\"user-photo-option click\", e);\r\n            e.preventDefault();\r\n            if (e.target.classList.contains(\"fa-edit\")) {\r\n                const postid = e.target.dataset.postid;\r\n                //console.log(\"user-photo-option edit postid=\", postid)\r\n                let edit_photo_url = document.getElementById('pg_edit_photo_url').value;\r\n                edit_photo_url += \"?pid=\";\r\n                edit_photo_url += postid;\r\n                window.location = edit_photo_url;\r\n\r\n            }\r\n            if (e.target.classList.contains(\"fa-trash\")) {\r\n                const postid = e.target.dataset.postid;\r\n                //console.log(\"user-photo-option trash postid=\", postid)\r\n\r\n                e.preventDefault();\r\n\r\n                //let post_id = document.getElementById('post_id').value;\r\n                let nonce = document.getElementById('pg_nonce').value;\r\n                let admin_url = document.getElementById('pg_admin_ajax_url').value;\r\n        \r\n                const formData = new FormData();\r\n                formData.append('action', 'user_delete_photo');\r\n                formData.append('nonce', nonce);\r\n                formData.append('pid', postid);\r\n    \r\n                jQuery.ajax({\r\n                    method: 'POST',\r\n                    url: admin_url,\r\n                    data: formData,\r\n                    contentType: false,\r\n                    processData: false,\r\n                    success: function(response){\r\n                        //console.log(\"delete success\");\r\n\r\n                        // remove the photo from list with animation\r\n                        let ancestor = e.target.parentNode.parentNode;\r\n                        //console.log(\"delete success ancestor\", ancestor);\r\n                        ancestor.style.animationDuration = '.35s';\r\n                        ancestor.style.animationName = 'slideOutLeft';\r\n                    \r\n                        setTimeout(() => {\r\n                            ancestor.remove(); // Remove the corresponding list item after animation\r\n                        }, 300); // Duration of the animation    \r\n        \r\n                        // display a toast\r\n                        var toastElList = [].slice.call(document.querySelectorAll('.toast'))\r\n                        toastElList.map(function(toastEl) {\r\n                            return new bootstrap.Toast(toastEl)\r\n                        })\r\n                        \r\n                        var myToastEl = document.getElementById('delete-photo-success')\r\n                        var myToast = bootstrap.Toast.getInstance(myToastEl);\r\n                        myToast.show();\r\n        \r\n                    }\r\n                    // TODO handle error\r\n                });                         \r\n            }\r\n        });\r\n\r\n        //var deleteConfirModal;\r\n        $(document).find('.user-gallery-option').on('click', function(e){\r\n            // console.log(\"user-gallery-option click\", e);\r\n            if (e.target.classList.contains(\"fa-edit\")) {\r\n                const galid = e.target.dataset.galid;\r\n                //console.log(\"user-gallery-option edit galid=\", galid);\r\n                let edit_gallery_url = document.getElementById('pg_edit_gallery_url').value;\r\n                edit_gallery_url += \"?gid=\";\r\n                edit_gallery_url += galid;\r\n                window.location = edit_gallery_url;\r\n            }\r\n            else if (e.target.classList.contains(\"fa-eye\")) {\r\n                const galuuid = e.target.dataset.galuuid;\r\n                //console.log(\"user-gallery-option view galuuid=\", galuuid);\r\n                let edit_gallery_url = document.getElementById('pg_show_gallery_url').value;\r\n                edit_gallery_url += \"?guuid=\";\r\n                edit_gallery_url += galuuid;\r\n                window.location = edit_gallery_url;\r\n            }\r\n            else if (e.target.classList.contains(\"fa-share-alt\")) {\r\n                const galuuid = e.target.dataset.galuuid;\r\n                // console.log(\"user-gallery-option view galuuid=\", galuuid);\r\n                let edit_gallery_url = document.getElementById('pg_show_gallery_url').value;\r\n                edit_gallery_url += \"?guuid=\";\r\n                edit_gallery_url += galuuid;\r\n\r\n                navigator.clipboard.writeText(edit_gallery_url).then(() => {\r\n                    // display a toast\r\n                    var toastElList = [].slice.call(document.querySelectorAll('.toast'));\r\n                    // console.log(\"user-gallery-option toastElList=\", toastElList);\r\n                    toastElList.map(function(toastEl) {\r\n                        // console.log(\"user-gallery-option toastEl=\", toastEl);\r\n                        return new bootstrap.Toast(toastEl);\r\n                    });\r\n\r\n                    var myToastEl = document.getElementById('copy-to-clipboard');\r\n                    var myToast = bootstrap.Toast.getInstance(myToastEl);\r\n                    myToast.show();                \r\n                });\r\n\r\n            }\r\n            e.preventDefault();\r\n        });\r\n\r\n        $(document).find('#modal-delete-gallery').on('click', function(e){\r\n            let galid = document.getElementById('gallery-id').value;\r\n            //console.log(\"modal-delete-gallery galid=\", galid);\r\n            //deleteConfirModal.toggle();\r\n            e.preventDefault();\r\n\r\n            //let post_id = document.getElementById('post_id').value;\r\n            let nonce = document.getElementById('pg_nonce').value;\r\n            let admin_url = document.getElementById('pg_admin_ajax_url').value;\r\n    \r\n            const formData = new FormData();\r\n            formData.append('action', 'user_delete_gallery');\r\n            formData.append('nonce', nonce);\r\n            formData.append('gid', galid);\r\n\r\n            jQuery.ajax({\r\n                method: 'POST',\r\n                url: admin_url,\r\n                data: formData,\r\n                contentType: false,\r\n                processData: false,\r\n                success: function(response){\r\n                    //console.log(\"delete success\");\r\n                    \r\n                    let url = document.getElementById('pg_user_galleries_url').value;\r\n                    window.location = url;\r\n    \r\n                    // remove the gallery with animation\r\n                    // find the gallery elements\r\n                }\r\n                // TODO handle error\r\n            });            \r\n        });\r\n        \r\n        $(document).find('.gallery-photo-option').on('click', function(e){\r\n            //console.log(\"gallery-photo-option click\", e);\r\n            e.preventDefault();\r\n            if (e.target.classList.contains(\"fa-edit\")) {\r\n                const postid = e.target.parentElement.dataset.id;\r\n                //console.log(\"gallery-photo-option postid=\", postid);\r\n                let edit_photo_url = document.getElementById('pg_edit_photo_url').value;\r\n                edit_photo_url += \"?pid=\";\r\n                edit_photo_url += postid;\r\n                const gallery_id = document.getElementById('gallery-id').value;\r\n                edit_photo_url += \"&gid=\";\r\n                edit_photo_url += gallery_id;\r\n                window.location = edit_photo_url;\r\n            }\r\n            if (e.target.classList.contains(\"fa-trash\")) {\r\n                                \r\n                let ancestor = e.target.parentNode.parentNode.parentNode;\r\n                ancestor.style.animationDuration = '.35s';\r\n                ancestor.style.animationName = 'slideOutLeft';\r\n            \r\n                setTimeout(() => {\r\n                    ancestor.remove(); // Remove the corresponding list item after animation\r\n                }, 300); // Duration of the animation    \r\n            }\r\n\r\n        });\r\n\r\n        $(document).on('click',\".lg-image\",function(e){\r\n            if(!tapped){\r\n                tapped=setTimeout(function(){\r\n                    if(flag){\r\n                        $(document).find(\".lg-icon,.lg-sub-html,.lg-toolbar\").fadeOut(\"fast\");\r\n                        flag = false;\r\n                    }\r\n                    else{\r\n                        $(document).find(\".lg-icon,.lg-sub-html,.lg-toolbar\").fadeOut().toggle(\"fast\");\r\n                        flag = true;\r\n                    }\r\n                    tapped = null;\r\n                    \r\n                },200);  \r\n            }\r\n            else{\r\n                clearTimeout(tapped); \r\n                tapped = null;\r\n            }                    \r\n            e.preventDefault();\r\n        });\r\n\r\n        const validateEmail = (email) => {\r\n            return String(email)\r\n              .toLowerCase()\r\n              .match(\r\n                /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|.(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n              );\r\n        };\r\n        \r\n        // When clicked on submit button of contact page\r\n        $(document).find('#contact-mail').on('click', function(event){\r\n            // console.log(\"contact-mail IN\");\r\n            event.preventDefault();\r\n            let valid=true;\r\n            $('.invalid-input').css('display', 'none');\r\n            //find('.invalid-input').css('display', 'block');\r\n\r\n    \r\n            const email = document.getElementById('email');\r\n            if (email.value == '' || !validateEmail(email.value)) {\r\n                // with jquery\r\n                $(\"#email\").parent().find('.invalid-input').css('display', 'block');\r\n\r\n                valid = false;\r\n            }\r\n\r\n            const message = document.getElementById('contact-message');\r\n            if (message.value == '') {\r\n                $(\"#contact-message\").parent().find('.invalid-input').css('display', 'block');\r\n                valid = false;\r\n            }\r\n    \r\n            if (valid == true) {\r\n                let nonce = document.getElementById('pg_nonce').value;\r\n                let admin_url = document.getElementById('pg_admin_ajax_url').value;\r\n\r\n                const formData = new FormData();\r\n                formData.append('action', 'contact_mail');\r\n                formData.append('nonce', nonce);\r\n                formData.append('email', email.value);\r\n                formData.append('msg', message.value);\r\n                jQuery.ajax({\r\n                    method: 'POST',\r\n                    url: admin_url,\r\n                    data: formData,\r\n                    contentType: false,\r\n                    processData: false,\r\n                    success: function(){\r\n                        // console.log(\"contact-mail success\");\r\n                        var toastElList = [].slice.call(document.querySelectorAll('.toast'))\r\n                        toastElList.map(function(toastEl) {\r\n                            return new bootstrap.Toast(toastEl)\r\n                        })\r\n                        \r\n                        var myToastEl = document.getElementById('contact-success')\r\n                        var myToast = bootstrap.Toast.getInstance(myToastEl);\r\n                        myToast.show();\r\n                    }\r\n                    // TODO handle error\r\n                });\r\n            }\r\n\r\n        });\r\n\r\n        // When user changes photo status\r\n        $('#user_status').on('change', function(e) {\r\n            this.value = this.checked ? \"public\" : \"private\";\r\n            //console.log(\"on user_status change\", e.target);\r\n            \r\n            if (this.checked) {\r\n                document.getElementById('user_status_label').textContent = 'Affichage autoris\u00E9 sur la galerie publique';\r\n            }\r\n            else {\r\n                document.getElementById('user_status_label').textContent = 'Photo priv\u00E9e';\r\n            }\r\n            e.stopPropagation();\r\n        });\r\n\r\n        // When clicked on submit button\r\n        $(document).find('#save-photo').on('click', function(event){\r\n            // console.log(\"edit-photo IN\");\r\n            event.preventDefault();\r\n            let error = false;\r\n            let post_id = document.getElementById('post_id').value;\r\n            let nonce = document.getElementById('pg_nonce').value;\r\n            let admin_url = document.getElementById('pg_admin_ajax_url').value;\r\n\r\n            const description = document.getElementById('photo-description').value;\r\n            const user_status = document.getElementById('user_status').value;\r\n            //const vignette = document.getElementById(\"select-country\").value;\r\n\r\n            const formData = new FormData();\r\n            formData.append('action', 'user_edit_photo');\r\n            formData.append('nonce', nonce);\r\n            formData.append('post_id', post_id);\r\n            //formData.append('title', title);\r\n            formData.append('desc', description);\r\n            //formData.append('vignette', vignette);\r\n            formData.append('user_status', user_status);\r\n            jQuery.ajax({\r\n                method: 'POST',\r\n                url: admin_url,\r\n                data: formData,\r\n                contentType: false,\r\n                processData: false,\r\n                success: function(response){\r\n                    // come back to the previous page\r\n                    // console.log(\"upload done\");\r\n                    var toastElList = [].slice.call(document.querySelectorAll('.toast'))\r\n                    toastElList.map(function(toastEl) {\r\n                        return new bootstrap.Toast(toastEl)\r\n                    })\r\n                    \r\n                    var myToastEl = document.getElementById('save-photo-success')\r\n                    var myToast = bootstrap.Toast.getInstance(myToastEl);\r\n                    myToast.show();                \r\n                    \r\n                }\r\n                // TODO handle error\r\n            });\r\n        });\r\n\r\n        function save_current_gallery() {\r\n\r\n            let gallery_id = document.getElementById('gallery-id').value;\r\n            let nonce = document.getElementById('pg_nonce').value;\r\n            let admin_url = document.getElementById('pg_admin_ajax_url').value;\r\n\r\n            const title = document.getElementById('gallery-title').value;\r\n            const description = document.getElementById('gallery-description').value;\r\n\r\n            // get the image list in the order of display\r\n            let images_id = [];\r\n\r\n            if (document.getElementById('item-list')){\r\n            const list = document.getElementById('item-list').children;\r\n            //console.log( \"list\", list);\r\n                for(let i = 0 ; i < list.length; i++){\r\n                    // Append them to a string\r\n                    //console.log( \"list i\", list[i]);\r\n                    images_id.push(list[i].dataset.id);\r\n                }\r\n            }\r\n\r\n            const formData = new FormData();\r\n            formData.append('action', 'user_edit_gallery');\r\n            formData.append('nonce', nonce);\r\n            formData.append('gallery_id', gallery_id);\r\n            formData.append('title', title);\r\n            formData.append('desc', description);\r\n            formData.append('images_id', images_id);\r\n            jQuery.ajax({\r\n                method: 'POST',\r\n                url: admin_url,\r\n                data: formData,\r\n                contentType: false,\r\n                processData: false,\r\n                success: function(response){\r\n                    // console.log(\"upload done\");\r\n                    var toastElList = [].slice.call(document.querySelectorAll('.toast'))\r\n                    toastElList.map(function(toastEl) {\r\n                        return new bootstrap.Toast(toastEl)\r\n                    })\r\n                    \r\n                    var myToastEl = document.getElementById('save-gallery-success')\r\n                    var myToast = bootstrap.Toast.getInstance(myToastEl);\r\n                    myToast.show();\r\n                }\r\n                // TODO handle error\r\n            });\r\n\r\n        }\r\n        // When clicked on submit button of edit gallery page\r\n        $(document).find('#edit-gallery-save').on('click', function(event){\r\n            // console.log(\"edit-gallery-save IN\");\r\n            event.preventDefault();\r\n            save_current_gallery();\r\n        });\r\n\r\n        $(document).find('#edit-gallery-save-2').on('click', function(event){\r\n            // console.log(\"edit-gallery-save IN\");\r\n            event.preventDefault();\r\n            save_current_gallery();\r\n        });\r\n\r\n    })\r\n})(jQuery)\r\n\r\nfunction ays_closestEdge(x,y,w,h) {\r\n    let ays_topEdgeDist = ays_distMetric(x,y,w/2,0);\r\n    let ays_bottomEdgeDist = ays_distMetric(x,y,w/2,h);\r\n    let ays_leftEdgeDist = ays_distMetric(x,y,0,h/2);\r\n    let ays_rightEdgeDist = ays_distMetric(x,y,w,h/2);\r\n    let ays_min = Math.min(ays_topEdgeDist,ays_bottomEdgeDist,ays_leftEdgeDist,ays_rightEdgeDist);\r\n\r\n    switch (ays_min) {\r\n        case ays_leftEdgeDist:\r\n            return 'left';\r\n        case ays_rightEdgeDist:\r\n            return 'right';\r\n        case ays_topEdgeDist:\r\n            return 'top';\r\n        case ays_bottomEdgeDist:\r\n            return 'bottom';\r\n    }\r\n}\r\n\r\nfunction lazyload_single () {\r\n    // console.log('lazyload_single in');\r\n    \r\n    var scrollTop = window.pageYOffset;\r\n    // console.log('lazyload_single in1');\r\n    var lazyloadImages = document.querySelectorAll('img.lazy');\r\n    if(lazyloadImages.length != 0) { \r\n        let img = lazyloadImages[0];\r\n        if (img.src == '') {\r\n            let parent = img.parentNode;\r\n            // console.log('lazyload_single offsetTop', parent.offsetTop);\r\n            // console.log('lazyload_single innerHeight', window.innerHeight);\r\n            // console.log('lazyload_single scrollTop', scrollTop);\r\n            // console.log('lazyload_single sum', window.innerHeight + scrollTop);\r\n            if(parent.offsetTop < (window.innerHeight + scrollTop)) {\r\n                //img.classList.remove('lazy');\r\n                img.classList.add('lazyloaded');\r\n                img.src = img.dataset.src;\r\n                // console.log('lazyload_single img', img);\r\n            }\r\n        }\r\n    };\r\n}\r\n\r\n// for grid \r\nfunction lazyload_max () {\r\n    // console.log('lazyload_max in');\r\n    var lazyloadImages = document.querySelectorAll('img.lazy');    \r\n    // console.log('lazyload_max lenght', lazyloadImages.length);\r\n    \r\n    var scrollTop = window.pageYOffset;\r\n    // console.log('lazyload_max in1');\r\n    lazyloadImages.forEach(function(img) {\r\n        if (img.src == '') {\r\n            let parent = img.parentNode;\r\n            if(parent.offsetTop < (window.innerHeight + scrollTop)) {\r\n                img.classList.add('lazyloaded');\r\n                img.src = img.dataset.src;\r\n                //\r\n                // console.log('lazyload_max img', img);\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\n\r\nvar geojson={};\r\n//TODO do not load geojson if already loaded\r\n\r\nasync function ays_add_vignette_to_image( lmapId,jfile,lat,lon,zoom) {\r\n\r\n    // console.log(\"ays_add_vignette_to_image IN lmapId=\", lmapId);\r\n    // get country\r\n    //console.log(\"country\", country);\r\n    //let zoom = country.zoom;\r\n    let file = ays_vars.base_url + \"assets/geojson/\" + jfile;\r\n\r\n    //let select = document.getElementsByClassName(\"compat-field-vignette\")[0];\r\n    //console.log(\"select\", select);\r\n    //console.log(\"BABAauRHUM\", parent);\r\n    // select.appendChild(p);\r\n    // var elemDiv = document.createElement('td');\r\n    // elemDiv.id = lmapId;\r\n    var elemDiv = document.getElementById(lmapId);\r\n    //console.log(\"ays_add_vignette_to_image\", elemDiv);\r\n    \r\n    var props = {\r\n        attributionControl: false,\r\n        zoomControl: false,\r\n        doubleClickZoom: false, \r\n        closePopupOnClick: false, \r\n        dragging: false, \r\n        zoomSnap: false, \r\n        zoomDelta: false, \r\n        trackResize: false,\r\n        touchZoom: false,\r\n        scrollWheelZoom: false\r\n    };\r\n\r\n    var geostyle = {\r\n        fillColor: 'lightgoldenrodyellow',\r\n        //color: 'yellow',\r\n        fillOpacity: 2,\r\n        weight: 1\r\n    }\r\n    let myIconClass = L.Icon.extend({\r\n        options: {\r\n            iconSize:     [4, 4],\r\n            iconAnchor:   [2, 2]\r\n        }\r\n    });\r\n    \r\n    // console.log(\"css:\", css);\r\n    //elemDiv.style.height = country.height;\r\n    //elemDiv.style.width = country.width;\r\n    //elemDiv.style.backgroundColor = 'white';\r\n    elemDiv.style.background = 'transparent';\r\n    // elemDiv.style.borderStyle = 'solid';\r\n    // elemDiv.style.borderWidth = 'thin';\r\n    // elemDiv.style.borderColor = 'lightgray';\r\n    //select.appendChild(elemDiv);\r\n    \r\n    let mark = new myIconClass ({iconUrl: ays_vars.base_url + 'assets/markpoint.png'});\r\n    \r\n    let lmap = L.map(lmapId, props);\r\n    //console.log(\"ays_add_vignette_to_image AA created lmap\", {lmapId, lmap});\r\n    //console.log(\"css:\", css);\r\n    // Charger le fichier GeoJSON et l'ajouter \u00E0 la carte\r\n    const response = await fetch(file);  // Use the 'await' keyword with 'fetch'\r\n\r\n    //console.log(\"ays_add_vignette_to_image BB lmapId=\", lmapId);\r\n    const data = await response.json();\r\n\r\n    L.geoJSON(data, {\r\n        clickable: false,\r\n        style: geostyle\r\n    }).addTo(lmap);\r\n    let clon = data.features[0].properties.geo_point_2d.lon;\r\n    let clat = data.features[0].properties.geo_point_2d.lat;\r\n    let center = [clat, clon];\r\n    //console.log(\"coord:\", coord);\r\n    //console.log(\"lmap:\", lmap);\r\n    //console.log(\"ays_add_vignette_to_image DD setView\", {lmapId, lmap});\r\n    lmap.setView(center, zoom);\r\n    let marker = [lat, lon];\r\n    L.marker(marker, {icon: mark}).addTo(lmap);\r\n }\r\n\r\n\r\n//Distance Formula\r\nfunction ays_distMetric(x,y,x2,y2) {\r\n    let ays_xDiff = x - x2;\r\n    let ays_yDiff = y - y2;\r\n    return (Math.abs(ays_xDiff) * Math.abs(ays_yDiff))/2;\r\n}\r\n\r\nfunction ays_getDirectionKey(ev, obj) {\r\n    let ays_w = obj.offsetWidth,\r\n        ays_h = obj.offsetHeight,\r\n        ays_x = (ev.pageX - obj.offsetLeft - (ays_w / 2) * (ays_w > ays_h ? (ays_h / ays_w) : 1)),\r\n        ays_y = (ev.pageY - obj.offsetTop - (ays_h / 2) * (ays_h > ays_w ? (ays_w / ays_h) : 1)),\r\n        ays_d = Math.round( Math.atan2(ays_y, ays_x) / 1.57079633 + 5 ) % 4;\r\n    return ays_d;\r\n}\r\n\r\n\r\n/** dragable and sortable list\r\n * see https://www.codingayush.com/2023/05/sortable-list-using-html-css-javascript.html **/\r\n\r\n\r\nconst sortableList = document.querySelector(\".sortable-list\");\r\nif (sortableList) {\r\n    const items = sortableList.querySelectorAll(\".item\");\r\n    // console.log(\"sortableList found\");\r\n\r\n    items.forEach(item => {\r\n        item.addEventListener(\"dragstart\", () => {\r\n            //console.log(\"dragstart\");\r\n            // Adding dragging class to item after a delay\r\n            setTimeout(() => item.classList.add(\"dragging\"), 0);\r\n        });\r\n        // Removing dragging class from item on dragend event\r\n        item.addEventListener(\"dragend\", () => item.classList.remove(\"dragging\"));\r\n        //console.log(\"set dragging to \", item);\r\n    });\r\n\r\n    const initSortableList = (e) => {\r\n        e.preventDefault();\r\n        //console.log(\"initSortableList e\", e);\r\n        const draggingItem = document.querySelector(\".dragging\");\r\n        //console.log(\"dragging is \", draggingItem);\r\n        // Getting all items except currently dragging and making array of them\r\n        let siblings = [...sortableList.querySelectorAll(\".item:not(.dragging)\")];\r\n        //const list = document.getElementById('item-list')\r\n\r\n        // Finding the sibling after which the dragging item should be placed\r\n        let nextSibling = siblings.find(sibling => {\r\n            /*console.log(\"initSortableList sibling\", sibling);\r\n            console.log(\"initSortableList found\", {\r\n                y: e.clientY,\r\n                top: sibling.offsetTop,\r\n                top2: list.offsetTop,\r\n                \r\n                height: sibling.offsetHeight,\r\n                sum: sibling.offsetTop + sibling.offsetHeight / 2\r\n            });*/\r\n            return e.pageY <= sibling.offsetTop + sibling.offsetHeight / 2;\r\n        });\r\n        //console.log(\"initSortableList insert Before\", nextSibling);\r\n        // Inserting the dragging item before the found sibling\r\n        sortableList.insertBefore(draggingItem, nextSibling);\r\n    }\r\n\r\n    sortableList.addEventListener(\"dragover\", initSortableList);\r\n    sortableList.addEventListener(\"dragenter\", e => e.preventDefault());\r\n}\r\n\r\n\r\n"],
  "mappings": "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",
  "names": []
}
