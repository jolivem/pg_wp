<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Responsive List with Bootstrap and JavaScript</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" rel="stylesheet">
    <style>
        .flex-container {
            margin-top: 10px;
            display: flex;
            align-items: stretch;
            background-color: #f1f1f1;
            border-radius: 10px;
        }

        .list-item {
            border-bottom: 1px solid #ddd;
            padding: 10px 0;
        }

        .miniature {
            background-position: center;
            background-size: cover;
            float: left;
            border-radius: 10px 0 0 10px;
            flex-basis: 110px;
        }

        .photo-text-container {
            flex: 10 0 200px;
            padding: 5px;
            height: 100px;
        }

        .photo-title {
            line-height: 20px;
            text-overflow: ellipsis;
            overflow: hidden;
            height: 20px;
        }

        .photo-text {
            line-height: 20px;
            text-overflow: ellipsis;
            overflow: hidden;
            height: 70px;
        }

        .footer {
            position: relative;
            top: -10px;
            font-size: 10px;
            color: #888
        }

        .flex-options {
            display: flex;
            align-items: stretch;
            flex-direction: column;
        }

        .options {
            flex-basis: 40px;
            border-radius: 0 10px 10px 0;
            padding: 5px;
        }

        .item-option {
            flex-basis: 300px;
            flex: 10 0 20px;
            padding: 7px;
        }
    </style>
</head>

<body>

    <div id="item-list">
        <h2>List of Items</h2>

        <script>
            // Sample data for demonstration
            const items = [
                {
                    image: "image1.jpg",
                    title: "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
                    date: "2024-02-29"
                },
                {
                    image: "image2.jpg",
                    title: "Item 2",
                    date: "2024-02-28"
                },
                {
                    image: "image3.jpg",
                    title: "Item 3",
                    date: "2024-02-27"
                }
            ];

            // Function to render list items
            function renderItems() {
                const itemList = document.getElementById('item-list');
                itemList.innerHTML = '';

                items.forEach((item, index) => {
                    const listItem = document.createElement('div');
                    listItem.classList.add("flex-container")
                    listItem.innerHTML = `
                    <div class="miniature" style="background-image: url('${item.image}')"></div>
                    <div class="photo-text-container" style="background-color: lightyellow";>
                        <div class="photo-title">Ceci est un très grand titre. Ceci est un très grand titre. Ceci est un très grand titre.</div>
                        <div class="photo-text">'.$item->title.'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</div>
                        <div class="footer" style="background-color: lightblue";>coucou me voilà</div>
                    </div>
                    <div class="options" style="background-color: lightgreen";>
                        <div class="flex-options">
                            <div class="item-option trash-icon fas fa-trash"  aria-hidden='true'></div>
                            <div class="item-option trash-icon fas fa-trash"  aria-hidden='true'></div>
                            <div class="item-option edit-icon fas fa-edit"  aria-hidden='true'></div>
                        </div>
                    </div>`;

                    /*listItem.innerHTML = `
                    <div class="miniature" style="background-image: url('${item.image}')"></div>
                    <div class="lienTitre" style="background-color: lightblue";>
                        <div class="lienTitre";>${item.title}</div>
                        <div class="footer" style="background-color: lightblue";>coucou me voilà</div>
                    </div>
                    <div class="options" style="background-color: lightgreen";>
                        <div class="flex-options">
                            <input type="checkbox" class="item-option" data-index="${index}">
                            <input type="checkbox" class="item-option" data-index="${index}">
                            <input type="checkbox" class="item-option" data-index="${index}">
                        </div>
                    </div>`;*/

                    itemList.appendChild(listItem);
                });
            }

            // Function to handle bulk action
            function handleBulkAction() {
                const checkedItems = document.querySelectorAll('.item-checkbox:checked');
                const selectedItems = Array.from(checkedItems).map(checkbox => {
                    const index = parseInt(checkbox.dataset.index);
                    return items[index];
                });

                console.log("Selected items:", selectedItems);
                // Perform your bulk action here
                // For demonstration, just logging the selected items to the console
            }

            // Render initial items
            renderItems();
        </script>

</body>

</html>